# aDataAPI Documentation

Welcome to the official documentation of **aDataAPI V1.3**. Below you will find the available API routes along with explanations for their usage.
Dont Forget To Join Our Discord At https://discord.gg/9SYHB7cJcX

### Base URL
```
https://your-deployment-url.vercel.app
```
Make sure to replace `your-deployment-url` with your actual deployed URL We Will Provide You.

---

## Admin Routes

### 1. **Create Keys**
```
POST /admin/createkeys <key> <amount> <days>
```

**Description:**
This route is used by the admin to generate a set of keys for user creation. The generated keys will be valid for a specified number of days.

**Parameters:**
- `<key>`: The admin key for authentication.
- `<amount>`: The number of keys you want to generate.
- `<days>`: The validity period (in days) for the generated keys.

**Example Request:**
```bash
POST https://your-deployment-url.vercel.app/admin/createkeys
{
  "key": "aData.a8787093474956862354jdhsd786872345",
  "amount": 5,
  "days": 30
}
```

**Example Response:**
```json
{
  "message": "aData | 5 Keys Has Been Created.",
  "createdKeys": [
    {
      "key": "bff23b2580ef1d62df6176ffb34ab2832ad07c09169b917e10c6938d416e1e3f",
      "expiresOn": "2025-02-18T11:40:54.783Z"
    },
    {
      "key": "9b34b63b8fb8a4fdb6b54e8b52fdd49a50bb708ecdb84946e2e013f1b7eb2a60",
      "expiresOn": "2025-02-18T11:40:54.783Z"
    }
  ]
}
```

### 2. **Reset Database**
```
POST /admin/resetdb <key>
```

**Description:**
This route is used to reset the entire database. It requires the admin key for authentication. The reset will clear all users, keys, and sessions.

**Parameters:**
- `<key>`: The admin key for authentication.

**Example Request:**
```bash
POST https://your-deployment-url.vercel.app/admin/resetdb
{
  "key": "aData.a8787093474956862354jdhsd786872345"
}
```

**Example Response:**
```json
{
  "message": "Database reset successful",
  "timestamp": "2025-01-19T11:40:54.783Z",
  "resetKey": "f8caa0136be3040b568be05433b7a5ad"
}
```

---

## User Routes

### 3. **User Creation**
```
POST /user/create <username> <password> <key>
```

**Description:**
This route is used by users to create a new account. It requires a valid registration key generated by the admin. The key will expire after the set duration, and it will be used up once a user is created.

**Parameters:**
- `<username>`: The desired username of the user (alphanumeric, 3-30 characters).
- `<password>`: The user's password (minimum 8 characters).
- `<key>`: The valid registration key provided by the admin.

**Example Request:**
```bash
POST https://your-deployment-url.vercel.app/user/create
{
  "username": "newUser123",
  "password": "newPassword123",
  "key": "bff23b2580ef1d62df6176ffb34ab2832ad07c09169b917e10c6938d416e1e3f"
}
```

**Example Response:**
```json
{
  "message": "User created successfully",
  "username": "newUser123",
  "expiryDate": "2025-02-18T11:40:54.783Z"
}
```

### 4. **User Login**
```
POST /user/login <username> <password>
```

**Description:**
This route is used by users to log in. It will return a JSON Web Token (JWT) which can be used for authenticating subsequent requests.

**Parameters:**
- `<username>`: The username of the user.
- `<password>`: The user's password.

**Example Request:**
```bash
POST https://your-deployment-url.vercel.app/user/login
{
  "username": "newUser123",
  "password": "newPassword123"
}
```

**Example Response:**
```json
{
  "message": "Login successful",
  "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VybmFtZSI6Im5ld1VzZXIxMjMiLCJyb2xlIjoidXNlciJ9.8vNeP6QHbIc96AsDDB66-EgmV2MjxlL5f9Efb6c__EU"
}
```

### 5. **User Status**
```
POST /user/status <token>
```

**Description:**
This route retrieves the status of the user associated with the provided token. It will provide details about the username, account expiry date, and when the user logged in.

**Parameters:**
- `<token>`: The JWT token returned from a successful login.

**Example Request:**
```bash
POST https://your-deployment-url.vercel.app/user/status
{
  "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VybmFtZSI6Im5ld1VzZXIxMjMiLCJyb2xlIjoidXNlciJ9.8vNeP6QHbIc96AsDDB66-EgmV2MjxlL5f9Efb6c__EU"
}
```

**Example Response:**
```json
{
  "message": "User status",
  "username": "newUser123",
  "expiryDate": "2025-02-18T11:40:54.783Z",
  "loggedInAt": "2025-01-19T11:40:54.783Z"
}
```

### 6. **User Logout**
```
POST /user/logout <token>
```

**Description:**
This route logs the user out by invalidating the provided JWT token.

**Parameters:**
- `<token>`: The JWT token of the user.

**Example Request:**
```bash
POST https://your-deployment-url.vercel.app/user/logout
{
  "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VybmFtZSI6Im5ld1VzZXIxMjMiLCJyb2xlIjoidXNlciJ9.8vNeP6QHbIc96AsDDB66-EgmV2MjxlL5f9Efb6c__EU"
}
```

**Example Response:**
```json
{
  "message": "Logout successful"
}
```

---

## General Routes

### 7. **Get API Version**
```
POST /
```

**Description:**
This route provides information about the current version of the API.

**Example Request:**
```bash
POST https://your-deployment-url.vercel.app/
```

**Example Response:**
```json
{
  "message": "aDataAPI V1.3"
}
```

---

## Error Handling

The API will return error responses with appropriate status codes in case of any issues:

- **400**: Bad Request           (Invalid parameters or missing fields)
- **403**: Forbidden             (Invalid admin key or expired/invalid tokens)
- **404**: Not Found             (Invalid route or user)
- **500**: Internal Server Error (Unexpected issues)

---
